{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Briefcase, Users, Building2, BarChart3, TrendingUp, Eye, FileText, UserCheck, Paintbrush } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jobsAPI, companiesAPI, usersAPI } from '../utils/api';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  var _THEMES$find, _stats$adminStats, _stats$adminStats2, _stats$adminStats3;\n  const [stats, setStats] = useState({\n    totalJobs: 0,\n    activeJobs: 0,\n    totalCompanies: 0,\n    featuredJobs: [],\n    recentActivity: [],\n    adminStats: {\n      pendingApproval: 0,\n      totalUsers: 0,\n      newUsers: 0,\n      roleCounts: {\n        students: 0,\n        alumni: 0,\n        admins: 0\n      },\n      topSearches: [] // [{ term, total }]\n    }\n  });\n  const [loading, setLoading] = useState(true);\n  const {\n    user,\n    isAdmin\n  } = useAuth();\n\n  // ---------- Admin theme (scoped to admin portal only) ----------\n  const THEMES = [{\n    id: 'default',\n    name: 'Default (Blue)',\n    className: 'theme-default'\n  }, {\n    id: 'emerald',\n    name: 'Emerald',\n    className: 'theme-emerald'\n  }, {\n    id: 'rose',\n    name: 'Rose',\n    className: 'theme-rose'\n  }, {\n    id: 'philsca',\n    name: 'PhilSCA (Gold)',\n    className: 'theme-philsca'\n  }];\n  const [adminTheme, setAdminTheme] = useState(() => typeof window !== 'undefined' && localStorage.getItem('admin_theme') || 'default');\n  const themeClass = ((_THEMES$find = THEMES.find(t => t.id === adminTheme)) === null || _THEMES$find === void 0 ? void 0 : _THEMES$find.className) || 'theme-default';\n  useEffect(() => {\n    if (isAdmin()) localStorage.setItem('admin_theme', adminTheme);\n  }, [adminTheme, isAdmin]);\n  const AdminWrapper = ({\n    children\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `admin-portal ${themeClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n  /* Theme palettes (you already had these) */\n  .admin-portal.theme-default { --primary-100: 219 234 254; --primary-400: 96 165 250; --primary-600: 37 99 235; --primary-700: 29 78 216; }\n  .admin-portal.theme-emerald { --primary-100: 209 250 229; --primary-400: 52 211 153; --primary-600: 5 150 105; --primary-700: 4 120 87; }\n  .admin-portal.theme-rose    { --primary-100: 255 228 230; --primary-400: 251 113 133; --primary-600: 225 29 72;  --primary-700: 190 18 60; }\n  .admin-portal.theme-philsca { --primary-100: 254 243 199; --primary-400: 251 191 36;  --primary-600: 217 119 6;  --primary-700: 180 83 9; }\n\n  /* Remap ALL accent utility classes to the theme's primary palette inside admin portal */\n  .admin-portal .text-primary-600,\n  .admin-portal .text-success-600,\n  .admin-portal .text-warning-600,\n  .admin-portal .text-error-600 { color: rgb(var(--primary-600)) !important; }\n\n  .admin-portal .bg-primary-100,\n  .admin-portal .bg-success-100,\n  .admin-portal .bg-warning-100,\n  .admin-portal .bg-error-100 { background-color: rgb(var(--primary-100)) !important; }\n\n  .admin-portal .fill-primary-400,\n  .admin-portal .fill-success-400,\n  .admin-portal .fill-warning-400,\n  .admin-portal .fill-error-400 { fill: rgb(var(--primary-400)) !important; }\n\n  /* Buttons (if you use success/warning variants) */\n  .admin-portal .btn-primary,\n  .admin-portal .btn-success,\n  .admin-portal .btn-warning,\n  .admin-portal .btn-error { background-color: rgb(var(--primary-600)) !important; }\n  .admin-portal .btn-primary:hover,\n  .admin-portal .btn-success:hover,\n  .admin-portal .btn-warning:hover,\n  .admin-portal .btn-error:hover { background-color: rgb(var(--primary-700)) !important; }\n`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  // ---- helpers to normalize backend differences ----\n  const toInt = v => Number.isFinite(v) ? v : parseInt(v !== null && v !== void 0 ? v : 0, 10) || 0;\n  function normalizeRoleCounts(data) {\n    var _ref0, _data$totalStudents, _ref1, _data$totalAlumni, _ref10, _data$totalAdmins;\n    // Expected return: { students, alumni, admins }\n    if (!data) return {\n      students: 0,\n      alumni: 0,\n      admins: 0\n    };\n\n    // 1) Direct maps: byRole or roleCounts\n    const candidate = data.byRole || data.roleCounts || data.counts || null;\n    if (candidate) {\n      var _ref, _ref2, _ref3, _candidate$students, _ref4, _ref5, _ref6, _candidate$alumni, _ref7, _ref8, _ref9, _candidate$admins;\n      // Try common key spellings\n      const s = toInt((_ref = (_ref2 = (_ref3 = (_candidate$students = candidate.students) !== null && _candidate$students !== void 0 ? _candidate$students : candidate.student) !== null && _ref3 !== void 0 ? _ref3 : candidate.Students) !== null && _ref2 !== void 0 ? _ref2 : candidate.Student) !== null && _ref !== void 0 ? _ref : 0);\n      const a = toInt((_ref4 = (_ref5 = (_ref6 = (_candidate$alumni = candidate.alumni) !== null && _candidate$alumni !== void 0 ? _candidate$alumni : candidate.alumnus) !== null && _ref6 !== void 0 ? _ref6 : candidate.Alumni) !== null && _ref5 !== void 0 ? _ref5 : candidate.Alumnus) !== null && _ref4 !== void 0 ? _ref4 : 0);\n      const ad = toInt((_ref7 = (_ref8 = (_ref9 = (_candidate$admins = candidate.admins) !== null && _candidate$admins !== void 0 ? _candidate$admins : candidate.admin) !== null && _ref9 !== void 0 ? _ref9 : candidate.Admins) !== null && _ref8 !== void 0 ? _ref8 : candidate.Admin) !== null && _ref7 !== void 0 ? _ref7 : 0);\n      return {\n        students: s,\n        alumni: a,\n        admins: ad\n      };\n    }\n\n    // 2) Separate fields (common in some APIs)\n    const s2 = toInt((_ref0 = (_data$totalStudents = data.totalStudents) !== null && _data$totalStudents !== void 0 ? _data$totalStudents : data.studentsCount) !== null && _ref0 !== void 0 ? _ref0 : data.students_total);\n    const a2 = toInt((_ref1 = (_data$totalAlumni = data.totalAlumni) !== null && _data$totalAlumni !== void 0 ? _data$totalAlumni : data.alumniCount) !== null && _ref1 !== void 0 ? _ref1 : data.alumni_total);\n    const ad2 = toInt((_ref10 = (_data$totalAdmins = data.totalAdmins) !== null && _data$totalAdmins !== void 0 ? _data$totalAdmins : data.adminsCount) !== null && _ref10 !== void 0 ? _ref10 : data.admins_total);\n    if (s2 || a2 || ad2) return {\n      students: s2,\n      alumni: a2,\n      admins: ad2\n    };\n\n    // 3) Tally from an array of users if present\n    const arr = data.users || data.items || data.results || [];\n    if (Array.isArray(arr) && arr.length) {\n      const acc = {\n        students: 0,\n        alumni: 0,\n        admins: 0\n      };\n      for (const u of arr) {\n        const r = (u.role || u.userRole || u.type || '').toString().toLowerCase();\n        if (r.includes('admin')) acc.admins++;else if (r.includes('alum')) acc.alumni++;else acc.students++; // default bucket\n      }\n      return acc;\n    }\n    return {\n      students: 0,\n      alumni: 0,\n      admins: 0\n    };\n  }\n  function normalizeTopSearches(data) {\n    var _data$analytics;\n    // Expected: [{ term, total }]\n    if (!data) return [];\n    const arr = data.topSearches || data.searchStats || data.popularSearches || ((_data$analytics = data.analytics) === null || _data$analytics === void 0 ? void 0 : _data$analytics.topSearches) || [];\n    if (Array.isArray(arr)) {\n      return arr.map(x => {\n        var _ref11, _ref12, _x$term, _ref13, _ref14, _x$total;\n        return {\n          term: (_ref11 = (_ref12 = (_x$term = x.term) !== null && _x$term !== void 0 ? _x$term : x.query) !== null && _ref12 !== void 0 ? _ref12 : x.keyword) !== null && _ref11 !== void 0 ? _ref11 : '',\n          total: toInt((_ref13 = (_ref14 = (_x$total = x.total) !== null && _x$total !== void 0 ? _x$total : x.count) !== null && _ref14 !== void 0 ? _ref14 : x.hits) !== null && _ref13 !== void 0 ? _ref13 : 0)\n        };\n      }).filter(x => x.term);\n    }\n    return [];\n  }\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      if (isAdmin()) {\n        var _ref17, _ref18, _ud$totalUsers, _ref19, _ref20, _ud$newUsers, _ref21, _ref22, _jd$totalJobs, _ref23, _jd$activeJobs, _ref24, _ref25, _jd$pendingApproval, _ref26, _cd$totalCompanies;\n        const [jobsStats, companiesStats, usersStats] = await Promise.all([jobsAPI.getStatistics(), companiesAPI.getStatistics(), usersAPI.getStatistics()]);\n\n        // Helper to unwrap either res.data.data or res.data (or raw)\n        const unwrap = res => {\n          var _ref15, _ref16, _res$data$data, _res$data;\n          return (_ref15 = (_ref16 = (_res$data$data = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data) !== null && _res$data$data !== void 0 ? _res$data$data : res === null || res === void 0 ? void 0 : res.data) !== null && _ref16 !== void 0 ? _ref16 : res) !== null && _ref15 !== void 0 ? _ref15 : {};\n        };\n        const jd = unwrap(jobsStats);\n        const cd = unwrap(companiesStats);\n        const ud = unwrap(usersStats);\n\n        // Get role counts from whatever shape users stats uses\n        const roleCounts = normalizeRoleCounts(ud);\n\n        // Use resilient reads for the numbers\n        const totalUsers = toInt((_ref17 = (_ref18 = (_ud$totalUsers = ud.totalUsers) !== null && _ud$totalUsers !== void 0 ? _ud$totalUsers : ud.total) !== null && _ref18 !== void 0 ? _ref18 : ud.count) !== null && _ref17 !== void 0 ? _ref17 : 0);\n        const newUsers = toInt((_ref19 = (_ref20 = (_ud$newUsers = ud.newUsers) !== null && _ud$newUsers !== void 0 ? _ud$newUsers : ud.newUsers30d) !== null && _ref20 !== void 0 ? _ref20 : ud.new_users_30d) !== null && _ref19 !== void 0 ? _ref19 : 0);\n        const totalJobs = toInt((_ref21 = (_ref22 = (_jd$totalJobs = jd.totalJobs) !== null && _jd$totalJobs !== void 0 ? _jd$totalJobs : jd.total) !== null && _ref22 !== void 0 ? _ref22 : jd.jobsTotal) !== null && _ref21 !== void 0 ? _ref21 : 0);\n        const activeJobs = toInt((_ref23 = (_jd$activeJobs = jd.activeJobs) !== null && _jd$activeJobs !== void 0 ? _jd$activeJobs : jd.active) !== null && _ref23 !== void 0 ? _ref23 : 0);\n        const pendingApproval = toInt((_ref24 = (_ref25 = (_jd$pendingApproval = jd.pendingApproval) !== null && _jd$pendingApproval !== void 0 ? _jd$pendingApproval : jd.pending) !== null && _ref25 !== void 0 ? _ref25 : jd.pending_jobs) !== null && _ref24 !== void 0 ? _ref24 : 0);\n        const totalCompanies = toInt((_ref26 = (_cd$totalCompanies = cd.totalCompanies) !== null && _cd$totalCompanies !== void 0 ? _cd$totalCompanies : cd.total) !== null && _ref26 !== void 0 ? _ref26 : 0);\n        const topSearches = normalizeTopSearches(jd);\n        setStats({\n          totalJobs,\n          activeJobs,\n          totalCompanies,\n          featuredJobs: [],\n          recentActivity: [],\n          adminStats: {\n            pendingApproval,\n            totalUsers,\n            newUsers,\n            roleCounts,\n            topSearches\n          }\n        });\n      } else {\n        var _jobsData$data$total, _jobsData$data, _jobsData$data$jobs$l, _jobsData$data2, _jobsData$data2$jobs, _featuredJobsData$dat, _jobsData$data3, _jobsData$data3$jobs;\n        const [jobsData, featuredJobsData] = await Promise.all([jobsAPI.getAll({\n          limit: 5\n        }), jobsAPI.getFeatured()]);\n        setStats({\n          totalJobs: (_jobsData$data$total = jobsData === null || jobsData === void 0 ? void 0 : (_jobsData$data = jobsData.data) === null || _jobsData$data === void 0 ? void 0 : _jobsData$data.total) !== null && _jobsData$data$total !== void 0 ? _jobsData$data$total : 0,\n          activeJobs: (_jobsData$data$jobs$l = jobsData === null || jobsData === void 0 ? void 0 : (_jobsData$data2 = jobsData.data) === null || _jobsData$data2 === void 0 ? void 0 : (_jobsData$data2$jobs = _jobsData$data2.jobs) === null || _jobsData$data2$jobs === void 0 ? void 0 : _jobsData$data2$jobs.length) !== null && _jobsData$data$jobs$l !== void 0 ? _jobsData$data$jobs$l : 0,\n          totalCompanies: 0,\n          featuredJobs: (featuredJobsData === null || featuredJobsData === void 0 ? void 0 : (_featuredJobsData$dat = featuredJobsData.data) === null || _featuredJobsData$dat === void 0 ? void 0 : _featuredJobsData$dat.jobs) || [],\n          recentActivity: (jobsData === null || jobsData === void 0 ? void 0 : (_jobsData$data3 = jobsData.data) === null || _jobsData$data3 === void 0 ? void 0 : (_jobsData$data3$jobs = _jobsData$data3.jobs) === null || _jobsData$data3$jobs === void 0 ? void 0 : _jobsData$data3$jobs.slice(0, 5)) || [],\n          adminStats: {\n            pendingApproval: 0,\n            totalUsers: 0,\n            newUsers: 0,\n            roleCounts: {\n              students: 0,\n              alumni: 0,\n              admins: 0\n            },\n            topSearches: []\n          }\n        });\n      }\n    } catch (err) {\n      console.error('Error fetching dashboard data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n    text: \"Loading dashboard...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 23\n  }, this);\n  const StatCard = ({\n    icon: Icon,\n    title,\n    value,\n    color = 'primary',\n    trend\n  }) => {\n    const cls = {\n      primary: 'bg-primary-100 text-primary-600',\n      success: 'bg-success-100 text-success-600',\n      warning: 'bg-warning-100 text-warning-600',\n      error: 'bg-error-100 text-error-600'\n    }[color];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-card p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-9 h-9 ${cls} rounded-md flex items-center justify-center mb-2 mx-auto`,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-semibold text-gray-900\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-600\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), typeof trend === 'number' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-[10px] mt-0.5 ${trend > 0 ? 'text-success-600' : 'text-error-600'}`,\n        children: [trend > 0 ? '↑' : '↓', \" \", Math.abs(trend), \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ---------- Compact SVG charts (no dummy rows) ----------\n  const VerticalBars = ({\n    labels,\n    values,\n    height = 110,\n    pad = 18\n  }) => {\n    const max = Math.max(1, ...values);\n    const barW = 100 / values.length;\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      viewBox: `0 0 100 ${height}`,\n      className: \"w-full\",\n      children: values.map((v, i) => {\n        const h = v / max * (height - pad - 24);\n        const x = i * barW + 6;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: x,\n            y: height - h - 20,\n            width: barW - 12,\n            height: h,\n            rx: \"2.5\",\n            className: \"fill-primary-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x + (barW - 12) / 2,\n            y: height - 6,\n            textAnchor: \"middle\",\n            fontSize: \"8\",\n            className: \"fill-gray-600\",\n            children: labels[i]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x + (barW - 12) / 2,\n            y: height - h - 24,\n            textAnchor: \"middle\",\n            fontSize: \"9\",\n            className: \"fill-gray-800\",\n            children: v\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this);\n  };\n  const HorizontalBars = ({\n    items,\n    height = 160\n  }) => {\n    if (!Array.isArray(items) || items.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 text-center py-6\",\n        children: \"No data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 14\n      }, this);\n    }\n    const max = Math.max(1, ...items.map(i => i.value));\n    const rowH = height / Math.max(1, items.length);\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      viewBox: `0 0 100 ${height}`,\n      className: \"w-full\",\n      children: items.map((it, i) => {\n        const w = it.value / max * 78;\n        const y = i * rowH + rowH * 0.35;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"text\", {\n            x: \"10\",\n            y: y - 4,\n            fontSize: \"8.5\",\n            className: \"fill-gray-700\",\n            children: it.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"10\",\n            y: y,\n            width: w,\n            height: rowH * 0.45,\n            rx: \"2.5\",\n            className: \"fill-primary-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: 10 + w + 2,\n            y: y + rowH * 0.35,\n            fontSize: \"9\",\n            className: \"fill-gray-800\",\n            children: it.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, it.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this);\n  };\n  const adminPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex items-start justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-heading font-bold text-gray-900\",\n          children: [\"Welcome back, \", user === null || user === void 0 ? void 0 : user.firstName, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: \"Manage the AeroJob platform and monitor system activity.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"inline-flex items-center gap-2 text-xs text-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(Paintbrush, {\n          className: \"w-4 h-4 text-primary-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Theme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: adminTheme,\n          onChange: e => setAdminTheme(e.target.value),\n          className: \"input w-auto py-1 px-2 text-xs\",\n          children: THEMES.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.id,\n            children: t.name\n          }, t.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 30\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        icon: Briefcase,\n        title: \"Total Jobs\",\n        value: stats.totalJobs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: FileText,\n        title: \"Pending Approval\",\n        value: ((_stats$adminStats = stats.adminStats) === null || _stats$adminStats === void 0 ? void 0 : _stats$adminStats.pendingApproval) || 0,\n        color: \"warning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: Users,\n        title: \"Total Users\",\n        value: ((_stats$adminStats2 = stats.adminStats) === null || _stats$adminStats2 === void 0 ? void 0 : _stats$adminStats2.totalUsers) || 0,\n        color: \"success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: UserCheck,\n        title: \"New Users (30d)\",\n        value: ((_stats$adminStats3 = stats.adminStats) === null || _stats$adminStats3 === void 0 ? void 0 : _stats$adminStats3.newUsers) || 0,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"w-4 h-4 mr-2 text-primary-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), \"Total Users by Role\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: Object.values(stats.adminStats.roleCounts || {}).some(v => v > 0) ? /*#__PURE__*/_jsxDEV(VerticalBars, {\n            labels: ['Students', 'Alumni', 'Admins'],\n            values: [stats.adminStats.roleCounts.students || 0, stats.adminStats.roleCounts.alumni || 0, stats.adminStats.roleCounts.admins || 0],\n            height: 110\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500 text-center py-6\",\n            children: \"No data available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 text-[11px] text-gray-500 border-t\",\n          children: \"Shows current totals per role.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-4 h-4 mr-2 text-primary-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), \"Most Searched Jobs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: /*#__PURE__*/_jsxDEV(HorizontalBars, {\n            items: (stats.adminStats.topSearches || []).map(s => ({\n              label: s.term,\n              value: s.total\n            })),\n            height: 160\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 text-[11px] text-gray-500 border-t\",\n          children: \"Aggregated searches by users & alumni.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-semibold text-gray-900 mb-3\",\n        children: \"Quick Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/jobs\",\n          className: \"card p-5 text-center hover:shadow-sm transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(Briefcase, {\n            className: \"w-7 h-7 text-primary-600 mx-auto mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-900 text-sm mb-1\",\n            children: \"Manage Jobs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-xs\",\n            children: \"Approve and manage job postings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/companies\",\n          className: \"card p-5 text-center hover:shadow-sm transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(Building2, {\n            className: \"w-7 h-7 text-primary-600 mx-auto mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-900 text-sm mb-1\",\n            children: \"Manage Companies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-xs\",\n            children: \"View and manage company profiles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/users\",\n          className: \"card p-5 text-center hover:shadow-sm transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-7 h-7 text-primary-600 mx-auto mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-900 text-sm mb-1\",\n            children: \"View Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-xs\",\n            children: \"Monitor user activity and statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n\n  // ---------- Non-admin page (unchanged, compact) ----------\n  const userPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-heading font-bold text-gray-900\",\n        children: [\"Welcome back, \", user === null || user === void 0 ? void 0 : user.firstName, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mt-1\",\n        children: \"Discover new opportunities and track your job search progress.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        icon: Briefcase,\n        title: \"Available Jobs\",\n        value: stats.totalJobs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: Eye,\n        title: \"Jobs Viewed\",\n        value: 12,\n        color: \"success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: FileText,\n        title: \"Applications\",\n        value: 3,\n        color: \"warning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        icon: Building2,\n        title: \"Companies\",\n        value: stats.totalCompanies,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 427,\n    columnNumber: 5\n  }, this);\n\n  // Scope theme to admin portal only\n  return isAdmin() ? /*#__PURE__*/_jsxDEV(AdminWrapper, {\n    children: adminPage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 449,\n    columnNumber: 22\n  }, this) : userPage;\n};\n_s(Dashboard, \"OoQ49qwX7SWzjdmRd9awwRrR5gQ=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","Briefcase","Users","Building2","BarChart3","TrendingUp","Eye","FileText","UserCheck","Paintbrush","useAuth","jobsAPI","companiesAPI","usersAPI","LoadingSpinner","jsxDEV","_jsxDEV","Dashboard","_s","_THEMES$find","_stats$adminStats","_stats$adminStats2","_stats$adminStats3","stats","setStats","totalJobs","activeJobs","totalCompanies","featuredJobs","recentActivity","adminStats","pendingApproval","totalUsers","newUsers","roleCounts","students","alumni","admins","topSearches","loading","setLoading","user","isAdmin","THEMES","id","name","className","adminTheme","setAdminTheme","window","localStorage","getItem","themeClass","find","t","setItem","AdminWrapper","children","fileName","_jsxFileName","lineNumber","columnNumber","fetchDashboardData","toInt","v","Number","isFinite","parseInt","normalizeRoleCounts","data","_ref0","_data$totalStudents","_ref1","_data$totalAlumni","_ref10","_data$totalAdmins","candidate","byRole","counts","_ref","_ref2","_ref3","_candidate$students","_ref4","_ref5","_ref6","_candidate$alumni","_ref7","_ref8","_ref9","_candidate$admins","s","student","Students","Student","a","alumnus","Alumni","Alumnus","ad","admin","Admins","Admin","s2","totalStudents","studentsCount","students_total","a2","totalAlumni","alumniCount","alumni_total","ad2","totalAdmins","adminsCount","admins_total","arr","users","items","results","Array","isArray","length","acc","u","r","role","userRole","type","toString","toLowerCase","includes","normalizeTopSearches","_data$analytics","searchStats","popularSearches","analytics","map","x","_ref11","_ref12","_x$term","_ref13","_ref14","_x$total","term","query","keyword","total","count","hits","filter","_ref17","_ref18","_ud$totalUsers","_ref19","_ref20","_ud$newUsers","_ref21","_ref22","_jd$totalJobs","_ref23","_jd$activeJobs","_ref24","_ref25","_jd$pendingApproval","_ref26","_cd$totalCompanies","jobsStats","companiesStats","usersStats","Promise","all","getStatistics","unwrap","res","_ref15","_ref16","_res$data$data","_res$data","jd","cd","ud","newUsers30d","new_users_30d","jobsTotal","active","pending","pending_jobs","_jobsData$data$total","_jobsData$data","_jobsData$data$jobs$l","_jobsData$data2","_jobsData$data2$jobs","_featuredJobsData$dat","_jobsData$data3","_jobsData$data3$jobs","jobsData","featuredJobsData","getAll","limit","getFeatured","jobs","slice","err","console","error","text","StatCard","icon","Icon","title","value","color","trend","cls","primary","success","warning","Math","abs","VerticalBars","labels","values","height","pad","max","barW","viewBox","i","h","y","width","rx","textAnchor","fontSize","HorizontalBars","rowH","it","w","label","adminPage","firstName","onChange","e","target","Object","some","to","userPage","_c","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Briefcase,\r\n  Users,\r\n  Building2,\r\n  BarChart3,\r\n  TrendingUp,\r\n  Eye,\r\n  FileText,\r\n  UserCheck,\r\n  Paintbrush\r\n} from 'lucide-react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { jobsAPI, companiesAPI, usersAPI } from '../utils/api';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst Dashboard = () => {\r\n  const [stats, setStats] = useState({\r\n    totalJobs: 0,\r\n    activeJobs: 0,\r\n    totalCompanies: 0,\r\n    featuredJobs: [],\r\n    recentActivity: [],\r\n    adminStats: {\r\n      pendingApproval: 0,\r\n      totalUsers: 0,\r\n      newUsers: 0,\r\n      roleCounts: { students: 0, alumni: 0, admins: 0 },\r\n      topSearches: [] // [{ term, total }]\r\n    }\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const { user, isAdmin } = useAuth();\r\n\r\n  // ---------- Admin theme (scoped to admin portal only) ----------\r\n  const THEMES = [\r\n    { id: 'default', name: 'Default (Blue)', className: 'theme-default' },\r\n    { id: 'emerald', name: 'Emerald', className: 'theme-emerald' },\r\n    { id: 'rose', name: 'Rose', className: 'theme-rose' },\r\n    { id: 'philsca', name: 'PhilSCA (Gold)', className: 'theme-philsca' },\r\n  ];\r\n  const [adminTheme, setAdminTheme] = useState(\r\n    () => (typeof window !== 'undefined' && localStorage.getItem('admin_theme')) || 'default'\r\n  );\r\n  const themeClass = THEMES.find(t => t.id === adminTheme)?.className || 'theme-default';\r\n\r\n  useEffect(() => {\r\n    if (isAdmin()) localStorage.setItem('admin_theme', adminTheme);\r\n  }, [adminTheme, isAdmin]);\r\n\r\n  const AdminWrapper = ({ children }) => (\r\n    <div className={`admin-portal ${themeClass}`}>\r\n      <style>{`\r\n  /* Theme palettes (you already had these) */\r\n  .admin-portal.theme-default { --primary-100: 219 234 254; --primary-400: 96 165 250; --primary-600: 37 99 235; --primary-700: 29 78 216; }\r\n  .admin-portal.theme-emerald { --primary-100: 209 250 229; --primary-400: 52 211 153; --primary-600: 5 150 105; --primary-700: 4 120 87; }\r\n  .admin-portal.theme-rose    { --primary-100: 255 228 230; --primary-400: 251 113 133; --primary-600: 225 29 72;  --primary-700: 190 18 60; }\r\n  .admin-portal.theme-philsca { --primary-100: 254 243 199; --primary-400: 251 191 36;  --primary-600: 217 119 6;  --primary-700: 180 83 9; }\r\n\r\n  /* Remap ALL accent utility classes to the theme's primary palette inside admin portal */\r\n  .admin-portal .text-primary-600,\r\n  .admin-portal .text-success-600,\r\n  .admin-portal .text-warning-600,\r\n  .admin-portal .text-error-600 { color: rgb(var(--primary-600)) !important; }\r\n\r\n  .admin-portal .bg-primary-100,\r\n  .admin-portal .bg-success-100,\r\n  .admin-portal .bg-warning-100,\r\n  .admin-portal .bg-error-100 { background-color: rgb(var(--primary-100)) !important; }\r\n\r\n  .admin-portal .fill-primary-400,\r\n  .admin-portal .fill-success-400,\r\n  .admin-portal .fill-warning-400,\r\n  .admin-portal .fill-error-400 { fill: rgb(var(--primary-400)) !important; }\r\n\r\n  /* Buttons (if you use success/warning variants) */\r\n  .admin-portal .btn-primary,\r\n  .admin-portal .btn-success,\r\n  .admin-portal .btn-warning,\r\n  .admin-portal .btn-error { background-color: rgb(var(--primary-600)) !important; }\r\n  .admin-portal .btn-primary:hover,\r\n  .admin-portal .btn-success:hover,\r\n  .admin-portal .btn-warning:hover,\r\n  .admin-portal .btn-error:hover { background-color: rgb(var(--primary-700)) !important; }\r\n`}</style>\r\n      {children}\r\n    </div>\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  // ---- helpers to normalize backend differences ----\r\nconst toInt = (v) => Number.isFinite(v) ? v : parseInt(v ?? 0, 10) || 0;\r\n\r\nfunction normalizeRoleCounts(data) {\r\n  // Expected return: { students, alumni, admins }\r\n  if (!data) return { students: 0, alumni: 0, admins: 0 };\r\n\r\n  // 1) Direct maps: byRole or roleCounts\r\n  const candidate = data.byRole || data.roleCounts || data.counts || null;\r\n  if (candidate) {\r\n    // Try common key spellings\r\n    const s = toInt(candidate.students ?? candidate.student ?? candidate.Students ?? candidate.Student ?? 0);\r\n    const a = toInt(candidate.alumni   ?? candidate.alumnus ?? candidate.Alumni   ?? candidate.Alumnus ?? 0);\r\n    const ad = toInt(candidate.admins  ?? candidate.admin   ?? candidate.Admins   ?? candidate.Admin   ?? 0);\r\n    return { students: s, alumni: a, admins: ad };\r\n  }\r\n\r\n  // 2) Separate fields (common in some APIs)\r\n  const s2  = toInt(data.totalStudents ?? data.studentsCount ?? data.students_total);\r\n  const a2  = toInt(data.totalAlumni   ?? data.alumniCount   ?? data.alumni_total);\r\n  const ad2 = toInt(data.totalAdmins   ?? data.adminsCount   ?? data.admins_total);\r\n  if (s2 || a2 || ad2) return { students: s2, alumni: a2, admins: ad2 };\r\n\r\n  // 3) Tally from an array of users if present\r\n  const arr = data.users || data.items || data.results || [];\r\n  if (Array.isArray(arr) && arr.length) {\r\n    const acc = { students: 0, alumni: 0, admins: 0 };\r\n    for (const u of arr) {\r\n      const r = (u.role || u.userRole || u.type || '').toString().toLowerCase();\r\n      if (r.includes('admin')) acc.admins++;\r\n      else if (r.includes('alum')) acc.alumni++;\r\n      else acc.students++; // default bucket\r\n    }\r\n    return acc;\r\n  }\r\n\r\n  return { students: 0, alumni: 0, admins: 0 };\r\n}\r\n\r\nfunction normalizeTopSearches(data) {\r\n  // Expected: [{ term, total }]\r\n  if (!data) return [];\r\n  const arr =\r\n    data.topSearches ||\r\n    data.searchStats ||\r\n    data.popularSearches ||\r\n    data.analytics?.topSearches ||\r\n    [];\r\n\r\n  if (Array.isArray(arr)) {\r\n    return arr\r\n      .map(x => ({\r\n        term: x.term ?? x.query ?? x.keyword ?? '',\r\n        total: toInt(x.total ?? x.count ?? x.hits ?? 0),\r\n      }))\r\n      .filter(x => x.term);\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\n  \r\n const fetchDashboardData = async () => {\r\n  try {\r\n    setLoading(true);\r\n\r\n    if (isAdmin()) {\r\n      const [jobsStats, companiesStats, usersStats] = await Promise.all([\r\n        jobsAPI.getStatistics(),\r\n        companiesAPI.getStatistics(),\r\n        usersAPI.getStatistics()\r\n      ]);\r\n\r\n      // Helper to unwrap either res.data.data or res.data (or raw)\r\n      const unwrap = (res) => (res?.data?.data ?? res?.data ?? res ?? {});\r\n\r\n      const jd = unwrap(jobsStats);\r\n      const cd = unwrap(companiesStats);\r\n      const ud = unwrap(usersStats);\r\n\r\n      // Get role counts from whatever shape users stats uses\r\n      const roleCounts = normalizeRoleCounts(ud);\r\n\r\n      // Use resilient reads for the numbers\r\n      const totalUsers =\r\n        toInt(ud.totalUsers ?? ud.total ?? ud.count ?? 0);\r\n\r\n      const newUsers =\r\n        toInt(ud.newUsers ?? ud.newUsers30d ?? ud.new_users_30d ?? 0);\r\n\r\n      const totalJobs =\r\n        toInt(jd.totalJobs ?? jd.total ?? jd.jobsTotal ?? 0);\r\n\r\n      const activeJobs =\r\n        toInt(jd.activeJobs ?? jd.active ?? 0);\r\n\r\n      const pendingApproval =\r\n        toInt(jd.pendingApproval ?? jd.pending ?? jd.pending_jobs ?? 0);\r\n\r\n      const totalCompanies =\r\n        toInt(cd.totalCompanies ?? cd.total ?? 0);\r\n\r\n      const topSearches = normalizeTopSearches(jd);\r\n\r\n      setStats({\r\n        totalJobs,\r\n        activeJobs,\r\n        totalCompanies,\r\n        featuredJobs: [],\r\n        recentActivity: [],\r\n        adminStats: {\r\n          pendingApproval,\r\n          totalUsers,\r\n          newUsers,\r\n          roleCounts,\r\n          topSearches,\r\n        }\r\n      });\r\n    } else {\r\n      const [jobsData, featuredJobsData] = await Promise.all([\r\n        jobsAPI.getAll({ limit: 5 }),\r\n        jobsAPI.getFeatured()\r\n      ]);\r\n\r\n      setStats({\r\n        totalJobs: jobsData?.data?.total ?? 0,\r\n        activeJobs: jobsData?.data?.jobs?.length ?? 0,\r\n        totalCompanies: 0,\r\n        featuredJobs: featuredJobsData?.data?.jobs || [],\r\n        recentActivity: jobsData?.data?.jobs?.slice(0, 5) || [],\r\n        adminStats: {\r\n          pendingApproval: 0,\r\n          totalUsers: 0,\r\n          newUsers: 0,\r\n          roleCounts: { students: 0, alumni: 0, admins: 0 },\r\n          topSearches: []\r\n        }\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error('Error fetching dashboard data:', err);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n  if (loading) return <LoadingSpinner text=\"Loading dashboard...\" />;\r\n\r\n  const StatCard = ({ icon: Icon, title, value, color = 'primary', trend }) => {\r\n    const cls = {\r\n      primary: 'bg-primary-100 text-primary-600',\r\n      success: 'bg-success-100 text-success-600',\r\n      warning: 'bg-warning-100 text-warning-600',\r\n      error: 'bg-error-100 text-error-600'\r\n    }[color];\r\n\r\n    return (\r\n      <div className=\"stats-card p-4\">\r\n        <div className={`w-9 h-9 ${cls} rounded-md flex items-center justify-center mb-2 mx-auto`}>\r\n          <Icon className=\"w-5 h-5\" />\r\n        </div>\r\n        <div className=\"text-xl font-semibold text-gray-900\">{value}</div>\r\n        <div className=\"text-xs text-gray-600\">{title}</div>\r\n        {typeof trend === 'number' && (\r\n          <div className={`text-[10px] mt-0.5 ${trend > 0 ? 'text-success-600' : 'text-error-600'}`}>\r\n            {trend > 0 ? '↑' : '↓'} {Math.abs(trend)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ---------- Compact SVG charts (no dummy rows) ----------\r\n  const VerticalBars = ({ labels, values, height = 110, pad = 18 }) => {\r\n    const max = Math.max(1, ...values);\r\n    const barW = 100 / values.length;\r\n    return (\r\n      <svg viewBox={`0 0 100 ${height}`} className=\"w-full\">\r\n        {values.map((v, i) => {\r\n          const h = (v / max) * (height - pad - 24);\r\n          const x = i * barW + 6;\r\n          return (\r\n            <g key={i}>\r\n              <rect x={x} y={height - h - 20} width={barW - 12} height={h} rx=\"2.5\" className=\"fill-primary-400\" />\r\n              <text x={x + (barW - 12) / 2} y={height - 6} textAnchor=\"middle\" fontSize=\"8\" className=\"fill-gray-600\">\r\n                {labels[i]}\r\n              </text>\r\n              <text x={x + (barW - 12) / 2} y={height - h - 24} textAnchor=\"middle\" fontSize=\"9\" className=\"fill-gray-800\">\r\n                {v}\r\n              </text>\r\n            </g>\r\n          );\r\n        })}\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  const HorizontalBars = ({ items, height = 160 }) => {\r\n    if (!Array.isArray(items) || items.length === 0) {\r\n      return <div className=\"text-sm text-gray-500 text-center py-6\">No data available</div>;\r\n    }\r\n    const max = Math.max(1, ...items.map(i => i.value));\r\n    const rowH = height / Math.max(1, items.length);\r\n    return (\r\n      <svg viewBox={`0 0 100 ${height}`} className=\"w-full\">\r\n        {items.map((it, i) => {\r\n          const w = (it.value / max) * 78;\r\n          const y = i * rowH + rowH * 0.35;\r\n          return (\r\n            <g key={it.label}>\r\n              <text x=\"10\" y={y - 4} fontSize=\"8.5\" className=\"fill-gray-700\">{it.label}</text>\r\n              <rect x=\"10\" y={y} width={w} height={rowH * 0.45} rx=\"2.5\" className=\"fill-primary-400\" />\r\n              <text x={10 + w + 2} y={y + rowH * 0.35} fontSize=\"9\" className=\"fill-gray-800\">{it.value}</text>\r\n            </g>\r\n          );\r\n        })}\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  const adminPage = (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n      {/* Header (compact) */}\r\n      <div className=\"mb-6 flex items-start justify-between gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-heading font-bold text-gray-900\">\r\n            Welcome back, {user?.firstName}!\r\n          </h1>\r\n          <p className=\"text-sm text-gray-600 mt-1\">\r\n            Manage the AeroJob platform and monitor system activity.\r\n          </p>\r\n        </div>\r\n\r\n        {/* admin-only theme picker */}\r\n        <label className=\"inline-flex items-center gap-2 text-xs text-gray-700\">\r\n          <Paintbrush className=\"w-4 h-4 text-primary-600\" />\r\n          <span>Theme</span>\r\n          <select\r\n            value={adminTheme}\r\n            onChange={(e) => setAdminTheme(e.target.value)}\r\n            className=\"input w-auto py-1 px-2 text-xs\"\r\n          >\r\n            {THEMES.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\">\r\n        <StatCard icon={Briefcase} title=\"Total Jobs\" value={stats.totalJobs} />\r\n        <StatCard icon={FileText} title=\"Pending Approval\" value={stats.adminStats?.pendingApproval || 0} color=\"warning\" />\r\n        <StatCard icon={Users} title=\"Total Users\" value={stats.adminStats?.totalUsers || 0} color=\"success\" />\r\n        <StatCard icon={UserCheck} title=\"New Users (30d)\" value={stats.adminStats?.newUsers || 0} color=\"primary\" />\r\n      </div>\r\n\r\n      {/* Charts – compact, admin only */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Users by Role */}\r\n        <div className=\"card\">\r\n          <div className=\"px-4 py-3 border-b\">\r\n            <h3 className=\"text-sm font-semibold text-gray-900 flex items-center\">\r\n              <BarChart3 className=\"w-4 h-4 mr-2 text-primary-600\" />\r\n              Total Users by Role\r\n            </h3>\r\n          </div>\r\n          <div className=\"p-4\">\r\n            {Object.values(stats.adminStats.roleCounts || {}).some(v => v > 0) ? (\r\n              <VerticalBars\r\n                labels={['Students', 'Alumni', 'Admins']}\r\n                values={[\r\n                  stats.adminStats.roleCounts.students || 0,\r\n                  stats.adminStats.roleCounts.alumni || 0,\r\n                  stats.adminStats.roleCounts.admins || 0\r\n                ]}\r\n                height={110}\r\n              />\r\n            ) : (\r\n              <div className=\"text-sm text-gray-500 text-center py-6\">No data available</div>\r\n            )}\r\n          </div>\r\n          <div className=\"px-4 py-2 text-[11px] text-gray-500 border-t\">\r\n            Shows current totals per role.\r\n          </div>\r\n        </div>\r\n\r\n        {/* Most Searched Jobs */}\r\n        <div className=\"card\">\r\n          <div className=\"px-4 py-3 border-b\">\r\n            <h3 className=\"text-sm font-semibold text-gray-900 flex items-center\">\r\n              <TrendingUp className=\"w-4 h-4 mr-2 text-primary-600\" />\r\n              Most Searched Jobs\r\n            </h3>\r\n          </div>\r\n          <div className=\"p-4\">\r\n            <HorizontalBars\r\n              items={(stats.adminStats.topSearches || []).map(s => ({ label: s.term, value: s.total }))}\r\n              height={160}\r\n            />\r\n          </div>\r\n          <div className=\"px-4 py-2 text-[11px] text-gray-500 border-t\">\r\n            Aggregated searches by users & alumni.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"mt-6\">\r\n        <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">Quick Actions</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n          <Link to=\"/admin/jobs\" className=\"card p-5 text-center hover:shadow-sm transition-shadow\">\r\n            <Briefcase className=\"w-7 h-7 text-primary-600 mx-auto mb-2\" />\r\n            <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">Manage Jobs</h4>\r\n            <p className=\"text-gray-600 text-xs\">Approve and manage job postings</p>\r\n          </Link>\r\n          <Link to=\"/admin/companies\" className=\"card p-5 text-center hover:shadow-sm transition-shadow\">\r\n            <Building2 className=\"w-7 h-7 text-primary-600 mx-auto mb-2\" />\r\n            <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">Manage Companies</h4>\r\n            <p className=\"text-gray-600 text-xs\">View and manage company profiles</p>\r\n          </Link>\r\n          <Link to=\"/admin/users\" className=\"card p-5 text-center hover:shadow-sm transition-shadow\">\r\n            <Users className=\"w-7 h-7 text-primary-600 mx-auto mb-2\" />\r\n            <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">View Users</h4>\r\n            <p className=\"text-gray-600 text-xs\">Monitor user activity and statistics</p>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ---------- Non-admin page (unchanged, compact) ----------\r\n  const userPage = (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-heading font-bold text-gray-900\">\r\n          Welcome back, {user?.firstName}!\r\n        </h1>\r\n        <p className=\"text-sm text-gray-600 mt-1\">\r\n          Discover new opportunities and track your job search progress.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\">\r\n        <StatCard icon={Briefcase} title=\"Available Jobs\" value={stats.totalJobs} />\r\n        <StatCard icon={Eye} title=\"Jobs Viewed\" value={12} color=\"success\" />\r\n        <StatCard icon={FileText} title=\"Applications\" value={3} color=\"warning\" />\r\n        <StatCard icon={Building2} title=\"Companies\" value={stats.totalCompanies} color=\"primary\" />\r\n      </div>\r\n\r\n      {/* you can keep your user-specific cards/list here */}\r\n    </div>\r\n  );\r\n\r\n  // Scope theme to admin portal only\r\n  return isAdmin() ? <AdminWrapper>{adminPage}</AdminWrapper> : userPage;\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}