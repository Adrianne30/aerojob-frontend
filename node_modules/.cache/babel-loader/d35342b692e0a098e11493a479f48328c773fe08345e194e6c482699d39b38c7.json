{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/JobSearch.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/JobSearch.js\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Search, Filter, Briefcase } from 'lucide-react';\n\n/**\r\n * Notes\r\n * -----\r\n * • This version fetches ALL jobs once from /api/jobs, then filters client-side.\r\n *   When you add a backend search endpoint later, you can swap the fetch() call\r\n *   and remove the client-side filtering easily (see TODO in fetchJobs()).\r\n * • Category options are derived from the jobs we load (job.category or job.categories[]).\r\n * • “Blinking”/“refreshing” fixed by preventing form submit + debouncing filter work.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TYPE_OPTIONS = [{\n  value: 'all',\n  label: 'All Types'\n}, {\n  value: 'Internship',\n  label: 'Internship'\n}, {\n  value: 'OJT',\n  label: 'OJT'\n}, {\n  value: 'Full-time',\n  label: 'Full-time'\n}, {\n  value: 'Part-time',\n  label: 'Part-time'\n}, {\n  value: 'Contract',\n  label: 'Contract'\n}];\nconst SORT_OPTIONS = [{\n  value: 'recent',\n  label: 'Most recent'\n}, {\n  value: 'oldest',\n  label: 'Oldest'\n}, {\n  value: 'az',\n  label: 'A–Z (Title)'\n}, {\n  value: 'za',\n  label: 'Z–A (Title)'\n}];\nconst PER_PAGE_OPTIONS = [10, 20, 50];\nfunction normalize(s) {\n  return (s || '').toString().trim().toLowerCase();\n}\nfunction uniq(arr) {\n  return [...new Set(arr)].filter(Boolean);\n}\nexport default function JobSearch() {\n  _s();\n  // raw data\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // UI state\n  const [keyword, setKeyword] = useState('');\n  const [type, setType] = useState('all');\n  const [location, setLocation] = useState('');\n  const [category, setCategory] = useState('all');\n  const [sortBy, setSortBy] = useState('recent');\n  const [perPage, setPerPage] = useState(10);\n  const [page, setPage] = useState(1);\n\n  // derived category options from loaded jobs\n  const categoryOptions = useMemo(() => {\n    const pool = [];\n    for (const j of jobs) {\n      var _j$category;\n      // Support either a single string field or array\n      const cat = (_j$category = j.category) !== null && _j$category !== void 0 ? _j$category : j.categories;\n      if (Array.isArray(cat)) pool.push(...cat);else if (typeof cat === 'string') pool.push(cat);\n    }\n    return ['all', ...uniq(pool).sort((a, b) => a.localeCompare(b))];\n  }, [jobs]);\n\n  // keep a tiny debounce so filtering doesn’t re-run every keystroke\n  const debounced = useDebounce({\n    keyword,\n    type,\n    location,\n    category,\n    sortBy,\n    perPage,\n    page\n  }, 200);\n\n  // fetch once\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n\n        // TODO (backend): replace with a server-side search API, e.g.\n        // const res = await fetch(`/api/jobs/search?kw=${...}&type=${...}&loc=${...}&cat=${...}&sort=${...}&page=${...}&limit=${...}`, { credentials: 'include' });\n        // For now, get all and filter client-side:\n        const res = await fetch('/api/jobs', {\n          credentials: 'include'\n        });\n        if (!res.ok) throw new Error('Failed to load jobs');\n        const data = await res.json();\n        if (!alive) return;\n        setJobs(Array.isArray(data) ? data : []);\n      } catch (e) {\n        console.error(e);\n        if (!alive) return;\n        setJobs([]);\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, []);\n\n  // client-side filtered & sorted data\n  const filtered = useMemo(() => {\n    const kw = normalize(debounced.keyword);\n    const loc = normalize(debounced.location);\n    const wantType = debounced.type;\n    const wantCat = debounced.category;\n    let list = jobs.filter(j => {\n      var _j$company, _j$category2;\n      // Keyword search over title, company name, description, requirements\n      const title = normalize(j.title || j.jobTitle);\n      const company = normalize(((_j$company = j.company) === null || _j$company === void 0 ? void 0 : _j$company.name) || j.companyName);\n      const desc = normalize(j.description);\n      const reqs = normalize(Array.isArray(j.requirements) ? j.requirements.join(' ') : j.requirements);\n      const matchesKW = !kw || title.includes(kw) || (company === null || company === void 0 ? void 0 : company.includes(kw)) || (desc === null || desc === void 0 ? void 0 : desc.includes(kw)) || (reqs === null || reqs === void 0 ? void 0 : reqs.includes(kw));\n\n      // Type filter\n      const jobType = (j.type || j.jobType || '').toString();\n      const matchesType = wantType === 'all' || jobType === wantType;\n\n      // Location filter (contains)\n      const jLoc = normalize(j.location || j.city || j.address);\n      const matchesLoc = !loc || jLoc.includes(loc);\n\n      // Category filter: handle string or array\n      const cats = (_j$category2 = j.category) !== null && _j$category2 !== void 0 ? _j$category2 : j.categories;\n      let matchesCat = true;\n      if (wantCat !== 'all') {\n        if (Array.isArray(cats)) matchesCat = cats.map(normalize).includes(normalize(wantCat));else matchesCat = normalize(cats) === normalize(wantCat);\n      }\n      return matchesKW && matchesType && matchesLoc && matchesCat;\n    });\n\n    // Sort\n    list.sort((a, b) => {\n      if (debounced.sortBy === 'recent') {\n        return new Date(b.createdAt || b.postedAt || 0) - new Date(a.createdAt || a.postedAt || 0);\n      }\n      if (debounced.sortBy === 'oldest') {\n        return new Date(a.createdAt || a.postedAt || 0) - new Date(b.createdAt || b.postedAt || 0);\n      }\n      const at = (a.title || a.jobTitle || '').toString();\n      const bt = (b.title || b.jobTitle || '').toString();\n      if (debounced.sortBy === 'az') return at.localeCompare(bt);\n      if (debounced.sortBy === 'za') return bt.localeCompare(at);\n      return 0;\n    });\n    return list;\n  }, [jobs, debounced]);\n\n  // pagination\n  const paged = useMemo(() => {\n    const start = (page - 1) * perPage;\n    return filtered.slice(start, start + perPage);\n  }, [filtered, page, perPage]);\n\n  // reset page when filters change\n  useEffect(() => {\n    setPage(1);\n  }, [debounced.keyword, debounced.type, debounced.location, debounced.category, debounced.sortBy, debounced.perPage]);\n\n  // prevent form submit refresh\n  const onSubmit = e => e.preventDefault();\n  const resetFilters = () => {\n    setKeyword('');\n    setType('all');\n    setLocation('');\n    setCategory('all');\n    setSortBy('recent');\n    setPerPage(10);\n    setPage(1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-heading font-bold text-gray-900 mb-2\",\n      children: \"Find Your Dream Opportunity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-6\",\n      children: \"Discover OJT/internship, and job opportunities in the aerospace industry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: keyword,\n            onChange: e => setKeyword(e.target.value),\n            placeholder: \"Search job title, company, keywords...\",\n            className: \"w-full input pl-10 pr-3 py-3 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {/* nop: filtering is live */},\n          className: \"ml-3 btn btn-primary whitespace-nowrap\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), \"Search\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: type,\n          onChange: e => setType(e.target.value),\n          className: \"select select-sm w-[140px]\",\n          children: TYPE_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt.value,\n            children: opt.label\n          }, opt.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: location,\n          onChange: e => setLocation(e.target.value),\n          placeholder: \"Location\",\n          className: \"input input-sm w-[160px]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          className: \"select select-sm w-[180px]\",\n          children: categoryOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt,\n            children: opt === 'all' ? 'All categories' : opt\n          }, opt, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          className: \"select select-sm w-[160px] ml-auto sm:ml-0\",\n          children: SORT_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt.value,\n            children: opt.label\n          }, opt.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: resetFilters,\n          className: \"btn btn-ghost btn-sm\",\n          title: \"Reset Filters\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), \"Reset\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Per page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: perPage,\n            onChange: e => setPerPage(Number(e.target.value)),\n            className: \"select select-sm w-[80px]\",\n            children: PER_PAGE_OPTIONS.map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: n,\n              children: n\n            }, n, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mt-4 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: loading ? 'Loading jobs…' : `${filtered.length} job${filtered.length !== 1 ? 's' : ''} found`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), !loading && filtered.length > perPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-ghost btn-sm\",\n          disabled: page === 1,\n          onClick: () => setPage(p => Math.max(1, p - 1)),\n          children: \"Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [\"Page \", page, \" of \", Math.max(1, Math.ceil(filtered.length / perPage))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-ghost btn-sm\",\n          disabled: page >= Math.ceil(filtered.length / perPage),\n          onClick: () => setPage(p => p + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-3\",\n        children: [...Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-pulse h-20 bg-gray-100 rounded-lg\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this) : paged.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-3\",\n        children: paged.map(job => /*#__PURE__*/_jsxDEV(JobCard, {\n          job: job\n        }, job._id || job.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n\n/* ----------------------------- helpers & bits ----------------------------- */\n_s(JobSearch, \"EOdPvwpTdnTFE3pOj9GwMUZfqXY=\", false, function () {\n  return [useDebounce];\n});\n_c = JobSearch;\nfunction JobCard({\n  job\n}) {\n  var _job$company;\n  const title = job.title || job.jobTitle || 'Untitled';\n  const company = ((_job$company = job.company) === null || _job$company === void 0 ? void 0 : _job$company.name) || job.companyName || 'Company';\n  const loc = job.location || job.city || '';\n  const type = job.type || job.jobType || '';\n  const cats = Array.isArray(job.categories) ? job.categories : job.category ? [job.category] : [];\n  const posted = job.createdAt || job.postedAt;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 rounded-md bg-primary-100 text-primary-600 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(Briefcase, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-baseline gap-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), type && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge\",\n            children: type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 22\n          }, this), cats.map(c => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-ghost\",\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [company, loc ? ` • ${loc}` : '', posted ? ` • ${new Date(posted).toLocaleDateString()}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), job.description && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700 mt-2 line-clamp-2\",\n          children: job.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 5\n  }, this);\n}\n_c2 = JobCard;\nfunction EmptyState() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center py-16\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto w-16 h-16 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center mb-3\",\n      children: /*#__PURE__*/_jsxDEV(Briefcase, {\n        className: \"w-8 h-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-lg font-medium text-gray-900\",\n      children: \"No jobs found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-600\",\n      children: \"Try adjusting your search criteria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 368,\n    columnNumber: 5\n  }, this);\n}\n_c3 = EmptyState;\nfunction useDebounce(value, delay = 200) {\n  _s2();\n  const [debounced, setDebounced] = useState(value);\n  const t = useRef();\n  useEffect(() => {\n    clearTimeout(t.current);\n    t.current = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t.current);\n  }, [value, delay]);\n  return debounced;\n}\n_s2(useDebounce, \"SixCi7ShKt7LGbY4slAefgnIdcQ=\");\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"JobSearch\");\n$RefreshReg$(_c2, \"JobCard\");\n$RefreshReg$(_c3, \"EmptyState\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Search","Filter","Briefcase","jsxDEV","_jsxDEV","TYPE_OPTIONS","value","label","SORT_OPTIONS","PER_PAGE_OPTIONS","normalize","s","toString","trim","toLowerCase","uniq","arr","Set","filter","Boolean","JobSearch","_s","jobs","setJobs","loading","setLoading","keyword","setKeyword","type","setType","location","setLocation","category","setCategory","sortBy","setSortBy","perPage","setPerPage","page","setPage","categoryOptions","pool","j","_j$category","cat","categories","Array","isArray","push","sort","a","b","localeCompare","debounced","useDebounce","alive","res","fetch","credentials","ok","Error","data","json","e","console","error","filtered","kw","loc","wantType","wantCat","list","_j$company","_j$category2","title","jobTitle","company","name","companyName","desc","description","reqs","requirements","join","matchesKW","includes","jobType","matchesType","jLoc","city","address","matchesLoc","cats","matchesCat","map","Date","createdAt","postedAt","at","bt","paged","start","slice","onSubmit","preventDefault","resetFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","placeholder","onClick","opt","Number","n","length","disabled","p","Math","max","ceil","_","i","EmptyState","job","JobCard","_id","id","_c","_job$company","posted","c","toLocaleDateString","_c2","_c3","delay","_s2","setDebounced","t","clearTimeout","current","setTimeout","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/JobSearch.js"],"sourcesContent":["// src/pages/JobSearch.js\r\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { Search, Filter, Briefcase } from 'lucide-react';\r\n\r\n/**\r\n * Notes\r\n * -----\r\n * • This version fetches ALL jobs once from /api/jobs, then filters client-side.\r\n *   When you add a backend search endpoint later, you can swap the fetch() call\r\n *   and remove the client-side filtering easily (see TODO in fetchJobs()).\r\n * • Category options are derived from the jobs we load (job.category or job.categories[]).\r\n * • “Blinking”/“refreshing” fixed by preventing form submit + debouncing filter work.\r\n */\r\n\r\nconst TYPE_OPTIONS = [\r\n  { value: 'all', label: 'All Types' },\r\n  { value: 'Internship', label: 'Internship' },\r\n  { value: 'OJT', label: 'OJT' },\r\n  { value: 'Full-time', label: 'Full-time' },\r\n  { value: 'Part-time', label: 'Part-time' },\r\n  { value: 'Contract', label: 'Contract' },\r\n];\r\n\r\nconst SORT_OPTIONS = [\r\n  { value: 'recent', label: 'Most recent' },\r\n  { value: 'oldest', label: 'Oldest' },\r\n  { value: 'az', label: 'A–Z (Title)' },\r\n  { value: 'za', label: 'Z–A (Title)' },\r\n];\r\n\r\nconst PER_PAGE_OPTIONS = [10, 20, 50];\r\n\r\nfunction normalize(s) {\r\n  return (s || '').toString().trim().toLowerCase();\r\n}\r\n\r\nfunction uniq(arr) {\r\n  return [...new Set(arr)].filter(Boolean);\r\n}\r\n\r\nexport default function JobSearch() {\r\n  // raw data\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // UI state\r\n  const [keyword, setKeyword] = useState('');\r\n  const [type, setType] = useState('all');\r\n  const [location, setLocation] = useState('');\r\n  const [category, setCategory] = useState('all');\r\n  const [sortBy, setSortBy] = useState('recent');\r\n  const [perPage, setPerPage] = useState(10);\r\n  const [page, setPage] = useState(1);\r\n\r\n  // derived category options from loaded jobs\r\n  const categoryOptions = useMemo(() => {\r\n    const pool = [];\r\n    for (const j of jobs) {\r\n      // Support either a single string field or array\r\n      const cat = j.category ?? j.categories;\r\n      if (Array.isArray(cat)) pool.push(...cat);\r\n      else if (typeof cat === 'string') pool.push(cat);\r\n    }\r\n    return ['all', ...uniq(pool).sort((a, b) => a.localeCompare(b))];\r\n  }, [jobs]);\r\n\r\n  // keep a tiny debounce so filtering doesn’t re-run every keystroke\r\n  const debounced = useDebounce({ keyword, type, location, category, sortBy, perPage, page }, 200);\r\n\r\n  // fetch once\r\n  useEffect(() => {\r\n    let alive = true;\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n\r\n        // TODO (backend): replace with a server-side search API, e.g.\r\n        // const res = await fetch(`/api/jobs/search?kw=${...}&type=${...}&loc=${...}&cat=${...}&sort=${...}&page=${...}&limit=${...}`, { credentials: 'include' });\r\n        // For now, get all and filter client-side:\r\n        const res = await fetch('/api/jobs', { credentials: 'include' });\r\n        if (!res.ok) throw new Error('Failed to load jobs');\r\n        const data = await res.json();\r\n        if (!alive) return;\r\n        setJobs(Array.isArray(data) ? data : []);\r\n      } catch (e) {\r\n        console.error(e);\r\n        if (!alive) return;\r\n        setJobs([]);\r\n      } finally {\r\n        if (alive) setLoading(false);\r\n      }\r\n    })();\r\n    return () => { alive = false; };\r\n  }, []);\r\n\r\n  // client-side filtered & sorted data\r\n  const filtered = useMemo(() => {\r\n    const kw = normalize(debounced.keyword);\r\n    const loc = normalize(debounced.location);\r\n    const wantType = debounced.type;\r\n    const wantCat = debounced.category;\r\n\r\n    let list = jobs.filter((j) => {\r\n      // Keyword search over title, company name, description, requirements\r\n      const title = normalize(j.title || j.jobTitle);\r\n      const company = normalize(j.company?.name || j.companyName);\r\n      const desc = normalize(j.description);\r\n      const reqs = normalize(Array.isArray(j.requirements) ? j.requirements.join(' ') : j.requirements);\r\n\r\n      const matchesKW =\r\n        !kw ||\r\n        title.includes(kw) ||\r\n        company?.includes(kw) ||\r\n        desc?.includes(kw) ||\r\n        reqs?.includes(kw);\r\n\r\n      // Type filter\r\n      const jobType = (j.type || j.jobType || '').toString();\r\n      const matchesType = wantType === 'all' || jobType === wantType;\r\n\r\n      // Location filter (contains)\r\n      const jLoc = normalize(j.location || j.city || j.address);\r\n      const matchesLoc = !loc || jLoc.includes(loc);\r\n\r\n      // Category filter: handle string or array\r\n      const cats = j.category ?? j.categories;\r\n      let matchesCat = true;\r\n      if (wantCat !== 'all') {\r\n        if (Array.isArray(cats)) matchesCat = cats.map(normalize).includes(normalize(wantCat));\r\n        else matchesCat = normalize(cats) === normalize(wantCat);\r\n      }\r\n\r\n      return matchesKW && matchesType && matchesLoc && matchesCat;\r\n    });\r\n\r\n    // Sort\r\n    list.sort((a, b) => {\r\n      if (debounced.sortBy === 'recent') {\r\n        return new Date(b.createdAt || b.postedAt || 0) - new Date(a.createdAt || a.postedAt || 0);\r\n      }\r\n      if (debounced.sortBy === 'oldest') {\r\n        return new Date(a.createdAt || a.postedAt || 0) - new Date(b.createdAt || b.postedAt || 0);\r\n      }\r\n      const at = (a.title || a.jobTitle || '').toString();\r\n      const bt = (b.title || b.jobTitle || '').toString();\r\n      if (debounced.sortBy === 'az') return at.localeCompare(bt);\r\n      if (debounced.sortBy === 'za') return bt.localeCompare(at);\r\n      return 0;\r\n    });\r\n\r\n    return list;\r\n  }, [jobs, debounced]);\r\n\r\n  // pagination\r\n  const paged = useMemo(() => {\r\n    const start = (page - 1) * perPage;\r\n    return filtered.slice(start, start + perPage);\r\n  }, [filtered, page, perPage]);\r\n\r\n  // reset page when filters change\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [debounced.keyword, debounced.type, debounced.location, debounced.category, debounced.sortBy, debounced.perPage]);\r\n\r\n  // prevent form submit refresh\r\n  const onSubmit = (e) => e.preventDefault();\r\n\r\n  const resetFilters = () => {\r\n    setKeyword('');\r\n    setType('all');\r\n    setLocation('');\r\n    setCategory('all');\r\n    setSortBy('recent');\r\n    setPerPage(10);\r\n    setPage(1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n      <h1 className=\"text-3xl font-heading font-bold text-gray-900 mb-2\">\r\n        Find Your Dream Opportunity\r\n      </h1>\r\n      <p className=\"text-gray-600 mb-6\">\r\n        Discover OJT/internship, and job opportunities in the aerospace industry\r\n      </p>\r\n\r\n      <form onSubmit={onSubmit} className=\"space-y-3\">\r\n        {/* Big search bar */}\r\n        <div className=\"flex items-center\">\r\n          <div className=\"relative flex-1\">\r\n            <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2\" />\r\n            <input\r\n              value={keyword}\r\n              onChange={(e) => setKeyword(e.target.value)}\r\n              placeholder=\"Search job title, company, keywords...\"\r\n              className=\"w-full input pl-10 pr-3 py-3 rounded-lg\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {/* nop: filtering is live */}}\r\n            className=\"ml-3 btn btn-primary whitespace-nowrap\"\r\n          >\r\n            <Search className=\"w-4 h-4 mr-2\" />\r\n            Search\r\n          </button>\r\n        </div>\r\n\r\n        {/* Small filter row (Type + Location + Category + Sort + Reset + Per page) */}\r\n        <div className=\"flex flex-wrap items-center gap-2\">\r\n          {/* Type (smaller) */}\r\n          <select\r\n            value={type}\r\n            onChange={(e) => setType(e.target.value)}\r\n            className=\"select select-sm w-[140px]\"\r\n          >\r\n            {TYPE_OPTIONS.map(opt => (\r\n              <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Location (small input) */}\r\n          <input\r\n            value={location}\r\n            onChange={(e) => setLocation(e.target.value)}\r\n            placeholder=\"Location\"\r\n            className=\"input input-sm w-[160px]\"\r\n          />\r\n\r\n          {/* Category (small dropdown) */}\r\n          <select\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            className=\"select select-sm w-[180px]\"\r\n          >\r\n            {categoryOptions.map(opt => (\r\n              <option key={opt} value={opt}>{opt === 'all' ? 'All categories' : opt}</option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Sort */}\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className=\"select select-sm w-[160px] ml-auto sm:ml-0\"\r\n          >\r\n            {SORT_OPTIONS.map(opt => (\r\n              <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n            ))}\r\n          </select>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={resetFilters}\r\n            className=\"btn btn-ghost btn-sm\"\r\n            title=\"Reset Filters\"\r\n          >\r\n            <Filter className=\"w-4 h-4 mr-1\" />\r\n            Reset\r\n          </button>\r\n\r\n          <div className=\"ml-auto flex items-center gap-2\">\r\n            <span className=\"text-xs text-gray-600\">Per page</span>\r\n            <select\r\n              value={perPage}\r\n              onChange={(e) => setPerPage(Number(e.target.value))}\r\n              className=\"select select-sm w-[80px]\"\r\n            >\r\n              {PER_PAGE_OPTIONS.map(n => (\r\n                <option key={n} value={n}>{n}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      {/* Results summary */}\r\n      <div className=\"flex items-center justify-between mt-4 mb-2\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          {loading ? 'Loading jobs…' : `${filtered.length} job${filtered.length !== 1 ? 's' : ''} found`}\r\n        </div>\r\n\r\n        {/* Simple pager */}\r\n        {!loading && filtered.length > perPage && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              className=\"btn btn-ghost btn-sm\"\r\n              disabled={page === 1}\r\n              onClick={() => setPage(p => Math.max(1, p - 1))}\r\n            >\r\n              Prev\r\n            </button>\r\n            <span className=\"text-sm\">\r\n              Page {page} of {Math.max(1, Math.ceil(filtered.length / perPage))}\r\n            </span>\r\n            <button\r\n              className=\"btn btn-ghost btn-sm\"\r\n              disabled={page >= Math.ceil(filtered.length / perPage)}\r\n              onClick={() => setPage(p => p + 1)}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Results list */}\r\n      <div className=\"mt-3\">\r\n        {loading ? (\r\n          <div className=\"grid gap-3\">\r\n            {[...Array(6)].map((_, i) => (\r\n              <div key={i} className=\"animate-pulse h-20 bg-gray-100 rounded-lg\" />\r\n            ))}\r\n          </div>\r\n        ) : paged.length === 0 ? (\r\n          <EmptyState />\r\n        ) : (\r\n          <div className=\"grid gap-3\">\r\n            {paged.map((job) => (\r\n              <JobCard key={job._id || job.id} job={job} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- helpers & bits ----------------------------- */\r\n\r\nfunction JobCard({ job }) {\r\n  const title = job.title || job.jobTitle || 'Untitled';\r\n  const company = job.company?.name || job.companyName || 'Company';\r\n  const loc = job.location || job.city || '';\r\n  const type = job.type || job.jobType || '';\r\n  const cats = Array.isArray(job.categories) ? job.categories : (job.category ? [job.category] : []);\r\n  const posted = job.createdAt || job.postedAt;\r\n\r\n  return (\r\n    <div className=\"card p-4\">\r\n      <div className=\"flex items-start gap-3\">\r\n        <div className=\"w-10 h-10 rounded-md bg-primary-100 text-primary-600 flex items-center justify-center\">\r\n          <Briefcase className=\"w-5 h-5\" />\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex flex-wrap items-baseline gap-x-2\">\r\n            <h3 className=\"font-semibold text-gray-900\">{title}</h3>\r\n            {type && <span className=\"badge\">{type}</span>}\r\n            {cats.map((c) => (\r\n              <span key={c} className=\"badge badge-ghost\">{c}</span>\r\n            ))}\r\n          </div>\r\n          <div className=\"text-sm text-gray-600 mt-1\">\r\n            {company}{loc ? ` • ${loc}` : ''}{posted ? ` • ${new Date(posted).toLocaleDateString()}` : ''}\r\n          </div>\r\n          {job.description && (\r\n            <p className=\"text-sm text-gray-700 mt-2 line-clamp-2\">{job.description}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EmptyState() {\r\n  return (\r\n    <div className=\"text-center py-16\">\r\n      <div className=\"mx-auto w-16 h-16 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center mb-3\">\r\n        <Briefcase className=\"w-8 h-8\" />\r\n      </div>\r\n      <div className=\"text-lg font-medium text-gray-900\">No jobs found</div>\r\n      <div className=\"text-sm text-gray-600\">Try adjusting your search criteria</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useDebounce(value, delay = 200) {\r\n  const [debounced, setDebounced] = useState(value);\r\n  const t = useRef();\r\n\r\n  useEffect(() => {\r\n    clearTimeout(t.current);\r\n    t.current = setTimeout(() => setDebounced(value), delay);\r\n    return () => clearTimeout(t.current);\r\n  }, [value, delay]);\r\n\r\n  return debounced;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}