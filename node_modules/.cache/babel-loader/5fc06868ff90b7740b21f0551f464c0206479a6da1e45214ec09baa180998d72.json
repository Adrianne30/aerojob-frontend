{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/admin/SurveyResponses.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { surveysAPI } from '../../utils/api';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { ArrowLeft } from 'lucide-react';\nimport LoadingSpinner from '../../components/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SurveyResponses() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [survey, setSurvey] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    role: ''\n  });\n  const load = async () => {\n    setLoading(true);\n    const s = await surveysAPI.get(id);\n    setSurvey(s);\n    const data = await surveysAPI.responses(id, {\n      role: filters.role || undefined\n    });\n    setResponses(data);\n    setLoading(false);\n  };\n  useEffect(() => {\n    load(); /* eslint-disable-next-line */\n  }, [id, filters]);\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-5xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: [\"Responses \\u2014 \", survey.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"input\",\n          value: filters.role,\n          onChange: e => setFilters(f => ({\n            ...f,\n            role: e.target.value\n          })),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Roles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"student\",\n            children: \"Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"alumni\",\n            children: \"Alumni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: [responses.map(r => {\n        var _r$userId, _r$userId2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm opacity-70 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: ((_r$userId = r.userId) === null || _r$userId === void 0 ? void 0 : _r$userId.name) || ((_r$userId2 = r.userId) === null || _r$userId2 === void 0 ? void 0 : _r$userId2.email)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this), \" \\u2022 \", r.role, \" \\u2022 \", new Date(r.createdAt).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid gap-3\",\n              children: survey.questions.map(q => {\n                var _ans$value;\n                const ans = r.answers.find(a => String(a.questionId) === String(q._id));\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: [\"Q: \", q.text, \" \", q.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-red-500\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 53,\n                      columnNumber: 79\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"opacity-80\",\n                    children: Array.isArray(ans === null || ans === void 0 ? void 0 : ans.value) ? ans.value.join(', ') : (_ans$value = ans === null || ans === void 0 ? void 0 : ans.value) !== null && _ans$value !== void 0 ? _ans$value : /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"opacity-50\",\n                      children: \"\\u2014\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 55,\n                      columnNumber: 92\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 23\n                  }, this)]\n                }, q._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, r._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this);\n      }), !responses.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center opacity-70\",\n        children: \"No responses yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(SurveyResponses, \"A42zKVKpIa50AkyR+ihxjCHJt4M=\", false, function () {\n  return [useParams];\n});\n_c = SurveyResponses;\nvar _c;\n$RefreshReg$(_c, \"SurveyResponses\");","map":{"version":3,"names":["React","useEffect","useState","surveysAPI","useParams","useNavigate","Link","ArrowLeft","LoadingSpinner","jsxDEV","_jsxDEV","SurveyResponses","_s","id","survey","setSurvey","responses","setResponses","loading","setLoading","filters","setFilters","role","load","s","get","data","undefined","fileName","_jsxFileName","lineNumber","columnNumber","className","children","title","value","onChange","e","f","target","map","r","_r$userId","_r$userId2","userId","name","email","Date","createdAt","toLocaleString","questions","q","_ans$value","ans","answers","find","a","String","questionId","_id","text","required","Array","isArray","join","length","_c","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/admin/SurveyResponses.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { surveysAPI } from '../../utils/api';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { ArrowLeft } from 'lucide-react';\nimport LoadingSpinner from '../../components/LoadingSpinner';\n\nexport default function SurveyResponses() {\n  const { id } = useParams();\n  const [survey, setSurvey] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({ role: '' });\n\n  const load = async () => {\n    setLoading(true);\n    const s = await surveysAPI.get(id);\n    setSurvey(s);\n    const data = await surveysAPI.responses(id, { role: filters.role || undefined });\n    setResponses(data);\n    setLoading(false);\n  };\n\n  useEffect(() => { load(); /* eslint-disable-next-line */ }, [id, filters]);\n\n  if (loading) return <LoadingSpinner />;\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-4\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-2xl font-bold\">Responses â€” {survey.title}</h1>\n        <div className=\"flex items-center gap-2\">\n          <select className=\"input\" value={filters.role} onChange={e=>setFilters(f=>({ ...f, role: e.target.value }))}>\n            <option value=\"\">All Roles</option>\n            <option value=\"student\">Students</option>\n            <option value=\"alumni\">Alumni</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"grid gap-4\">\n        {responses.map(r => (\n          <div key={r._id} className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"text-sm opacity-70 mb-2\">\n                <b>{r.userId?.name || r.userId?.email}</b> â€¢ {r.role} â€¢ {new Date(r.createdAt).toLocaleString()}\n              </div>\n              <div className=\"grid gap-3\">\n                {survey.questions.map(q => {\n                  const ans = r.answers.find(a => String(a.questionId) === String(q._id));\n                  return (\n                    <div key={q._id}>\n                      <div className=\"font-medium\">Q: {q.text} {q.required && <span className=\"text-red-500\">*</span>}</div>\n                      <div className=\"opacity-80\">\n                        {Array.isArray(ans?.value) ? ans.value.join(', ') : (ans?.value ?? <i className=\"opacity-50\">â€”</i>)}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        ))}\n        {!responses.length && <div className=\"text-center opacity-70\">No responses yet.</div>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}