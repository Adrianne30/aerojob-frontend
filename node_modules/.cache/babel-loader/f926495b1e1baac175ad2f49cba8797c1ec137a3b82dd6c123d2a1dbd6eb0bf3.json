{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/admin/SurveyList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { surveysAPI } from '../../utils/api';\nimport { Link } from 'react-router-dom';\nimport { ClipboardList, Plus, Edit3, Trash2, Eye } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport LoadingSpinner from '../../components/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SurveyList() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [surveys, setSurveys] = useState([]);\n  const load = async () => {\n    setLoading(true);\n    try {\n      const data = await surveysAPI.list();\n      setSurveys(data);\n    } catch (e) {\n      toast.error('Failed to load surveys');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const del = async id => {\n    if (!confirm('Delete this survey?')) return;\n    await surveysAPI.remove(id);\n    toast.success('Survey deleted');\n    load();\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-5xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 68\n        }, this), \" Surveys\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-primary flex items-center gap-2\",\n        to: \"/admin/surveys/new\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 91\n        }, this), \" New Survey\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: [surveys.map(s => {\n        var _s$questions;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: [s.title, \" \", s.isActive ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge badge-success ml-2\",\n                  children: \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 72\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge\",\n                  children: \"Inactive\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 131\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-70\",\n                children: s.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs mt-1\",\n                children: [\"Audience: \", s.audience.toUpperCase(), \" \\u2022 \", ((_s$questions = s.questions) === null || _s$questions === void 0 ? void 0 : _s$questions.length) || 0, \" questions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-outline flex items-center gap-1\",\n                to: `/admin/surveys/${s._id}/responses`,\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 116\n                }, this), \" Responses\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-outline flex items-center gap-1\",\n                to: `/admin/surveys/${s._id}/edit`,\n                children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 111\n                }, this), \" Edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger flex items-center gap-1\",\n                onClick: () => del(s._id),\n                children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 103\n                }, this), \" Delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, s._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this);\n      }), !surveys.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center opacity-70\",\n        children: \"No surveys yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(SurveyList, \"8Ly6vQGDtL4WJQkAtBFjPlv7UUM=\");\n_c = SurveyList;\nvar _c;\n$RefreshReg$(_c, \"SurveyList\");","map":{"version":3,"names":["React","useEffect","useState","surveysAPI","Link","ClipboardList","Plus","Edit3","Trash2","Eye","toast","LoadingSpinner","jsxDEV","_jsxDEV","SurveyList","_s","loading","setLoading","surveys","setSurveys","load","data","list","e","error","del","id","confirm","remove","success","fileName","_jsxFileName","lineNumber","columnNumber","className","children","size","to","map","s","_s$questions","title","isActive","description","audience","toUpperCase","questions","length","_id","onClick","_c","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/admin/SurveyList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { surveysAPI } from '../../utils/api';\nimport { Link } from 'react-router-dom';\nimport { ClipboardList, Plus, Edit3, Trash2, Eye } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport LoadingSpinner from '../../components/LoadingSpinner';\n\nexport default function SurveyList() {\n  const [loading, setLoading] = useState(true);\n  const [surveys, setSurveys] = useState([]);\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const data = await surveysAPI.list();\n      setSurveys(data);\n    } catch (e) {\n      toast.error('Failed to load surveys');\n    } finally { setLoading(false); }\n  };\n\n  useEffect(() => { load(); }, []);\n\n  const del = async (id) => {\n    if (!confirm('Delete this survey?')) return;\n    await surveysAPI.remove(id);\n    toast.success('Survey deleted');\n    load();\n  };\n\n  if (loading) return <LoadingSpinner />;\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-4\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h1 className=\"text-2xl font-bold flex items-center gap-2\"><ClipboardList size={24}/> Surveys</h1>\n        <Link className=\"btn btn-primary flex items-center gap-2\" to=\"/admin/surveys/new\"><Plus size={18}/> New Survey</Link>\n      </div>\n\n      <div className=\"grid gap-4\">\n        {surveys.map(s => (\n          <div className=\"card\" key={s._id}>\n            <div className=\"card-body flex items-center justify-between\">\n              <div>\n                <div className=\"font-semibold\">{s.title} {s.isActive ? <span className=\"badge badge-success ml-2\">Active</span> : <span className=\"badge\">Inactive</span>}</div>\n                <div className=\"text-sm opacity-70\">{s.description}</div>\n                <div className=\"text-xs mt-1\">Audience: {s.audience.toUpperCase()} â€¢ {s.questions?.length || 0} questions</div>\n              </div>\n              <div className=\"flex gap-2\">\n                <Link className=\"btn btn-outline flex items-center gap-1\" to={`/admin/surveys/${s._id}/responses`}><Eye size={16}/> Responses</Link>\n                <Link className=\"btn btn-outline flex items-center gap-1\" to={`/admin/surveys/${s._id}/edit`}><Edit3 size={16}/> Edit</Link>\n                <button className=\"btn btn-danger flex items-center gap-1\" onClick={() => del(s._id)}><Trash2 size={16}/> Delete</button>\n              </div>\n            </div>\n          </div>\n        ))}\n        {!surveys.length && <div className=\"text-center opacity-70\">No surveys yet.</div>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}